<% content_for :body_class, "validator-show" %>

<%= render "/shared/dh_banner_script" %>
<%= render partial: "shared/chain_header", locals: { active_tab: '' } %>

<div class="validator-header pb-4">
  <div class="container">
    <div class='d-flex flex-wrap'>
      <div class='mr-auto pb-4'>
        <h2 class="validator-header__title"><%= @validator.name %></h2>
        <%= @validator.description %>
      </div>
      <div class='pb-4'>
        <ul class='validator-info__list'>
          <li class='validator-info__item'>
            <p class='text-label validator-info__label'>Account</p>
            <p class='validator-info__value technical'>
              <%= @validator.validator_address %>
            </p>
          </li>
        </ul>
      </div>
    </div>
  </div>
</div>


<%= render_flash_messages %>

<div class='content pt-4'>
  <div class='container'>
      <div class="row">
        <div class="col-md-12 col-lg-7">
          <div class='data-block'>
            <div class="pb-lg-0">
            <h3 class='data-block__title'>Staking Balance</h3>
              <div class='d-flex flex-wrap align-items-end'>
                <div class='data-block__large-number mr-4'>
                  <%= format_amount(@validator.staked, denom: @chain.class::DEFAULT_TOKEN_REMOTE) %>
                </div>
              </div>
            </div>
            <div class='row'>
              <div class="col-lg-9">
                <span class='d-block text-label'>Started On</span>
                <span class='data-block'><%= @validator.registration_time.to_date.strftime('%B %d, %Y') %></span>
              </div>
              <div class="col-lg-3">
                <span class='d-block text-label'>Fee Rate</span>
                <span class='data-block'><%= @validator.fee_rate %>%</span>
              </div>
            </div>
          </div>
        </div>
        <div class="col-md-12 col-lg-5 pt-sm-4">
          <%= render "skale/validators/sections/staking_over_time_chart", staked_stats: @staked_stats %>
        </div>
      </div>
  </div>
</div>
<div class='container'>
  <div class="row info-cards">
    <div class="col-md-12 col-lg-7 mb-4 pb-2">
      <%= render "skale/validators/sections/nodes", nodes: @nodes %>
    </div>
    <div class="col-md-12 col-lg-5 mb-4 pb-2">
      <%= render "skale/validators/sections/delegations_counts", delegation_summary: @delegation_summary %>
    </div>
  </div>
</div>
